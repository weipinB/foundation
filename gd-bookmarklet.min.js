if(typeof jQuery==="undefined"){alert("The grid displayer requires jQuery + TW Bootstrap or Foundation.")}else{var removeGridDisplayer=function(){$("#grid-displayer-tools").remove();$("#grid-displayer").remove()},gdIsBuilt=false,buildGridDisplayer=function(h){var b=$("#grid-displayer .gd-container"),j=$("#grid-displayer .gd-row"),f=$("#grid-displayer-tools"),c="",a=parseInt(f.find("#gdt-nbcols").val());if(gdIsBuilt){b.removeClass().addClass("gd-container");j.removeClass().addClass("gd-row").css("border-right",0).empty();f.find(".framework-specific").hide()}for(var e=0;e<a;e++){c+='<div class="gd-column">&nbsp;</div>'}j.append(c);var g=j.find(".gd-column"),d=false;switch(h){case"bo":b.addClass("container");j.addClass("row");g.addClass("span1");f.find(".twb").css("display","inline-block");break;case"bf":b.addClass("container-fluid");j.addClass("row-fluid");g.addClass("span1");f.find(".twb").css("display","inline-block");break;case"f3":j.addClass("row");g.addClass("one columns").filter(":odd").addClass("dontshow");d=true;break;case"f2":j.addClass("row");g.addClass("one columns");break}setGridColor(f.find("#gdt-color").val(),d);setGridOpacity(f.find("#gdt-opacity").val(),d);if(!gdIsBuilt){f.find("#gdt-options").css("display","block");f.find("#gdt-ok").css("display","block");setGridZindex(f.find("#gdt-zindex").val());$("#grid-displayer").show();gdIsBuilt=true}},setGridColor=function(a,b){$("#grid-displayer .gd-column:not(.dontshow)").css("background-color",a);if(b){setBorderStyle()}},setGridOpacity=function(a,b){$("#grid-displayer .gd-column:not(.dontshow)").css("opacity",a);if(b){setBorderStyle()}},setGridZindex=function(a){$("#grid-displayer").css("z-index",a)},setBorderStyle=function(){var a=$("#grid-displayer .gd-column:first-child").css("opacity"),b=$("#grid-displayer .gd-column:first-child").css("background-color").replace("rgb","rgba").replace(")",", "+a+")");$("#grid-displayer .gd-row").css("border-right","2px solid "+b)};if($("#grid-displayer").length){removeGridDisplayer()}else{var dataGridFramework=$("body").data("grid-framework"),dataGridNbcols=$("body").data("grid-nbcols"),dataGridColor=$("body").data("grid-color"),dataGridOpacity=$("body").data("grid-opacity"),dataGridZindex=$("body").data("grid-zindex"),gdFramework=(typeof dataGridFramework==="undefined")?"":dataGridFramework,gdNbcols=(typeof dataGridNbcols==="undefined")?"12":dataGridNbcols,gdColor=(typeof dataGridColor==="undefined")?"black":dataGridColor,gdOpacity=(typeof dataGridOpacity==="undefined")?"0.3":dataGridOpacity,gdZindex=(typeof dataGridZindex==="undefined")?"0":dataGridZindex;var gridHtml='<div id="grid-displayer" style="display: none;"><div class="gd-container"><div class="gd-row"></div></div></div>',frameworks={bo:"Bootstrap",bf:"Bootstrap (fluid)",f3:"Foundation 3",f2:"Foundation 2"},gridToolsHtml='<div id="grid-displayer-tools">';gridToolsHtml+='  <div class="gdt-field"><select id="gdt-framework">';gridToolsHtml+="    <option>&darr; Choose your framework</option>";$.each(frameworks,function(a,b){gridToolsHtml+='<option value="'+a+'"';gridToolsHtml+=(a==gdFramework)?" selected":"";gridToolsHtml+=">"+b+"</option>"});gridToolsHtml+='    <option value="tired">I\'m tired of choosing my framework</option>';gridToolsHtml+="  </select></div>";gridToolsHtml+='  <div id="gdt-options" class="gdt-field">';gridToolsHtml+='    <div><label for="gdt-color">Columns colour</label><input type="text" id="gdt-color" value="'+gdColor+'" /></div>';gridToolsHtml+='<div><label for="gdt-opacity">Opacity</label><input type="text" id="gdt-opacity" value="'+gdOpacity+'" /></div>';gridToolsHtml+='<div class="framework-specific twb"><label for="gdt-nbcols">Nb cols</label><input type="text" id="gdt-nbcols" value="'+gdNbcols+'" /></div>';gridToolsHtml+='<div><label for="gdt-zindex">z-index</label><input type="text" id="gdt-zindex" value="'+gdZindex+'" /></div>';gridToolsHtml+="  </div>";gridToolsHtml+='  <div class="gdt-button" id="gdt-ok"><a href="#">OK</a></div>';gridToolsHtml+='  <div class="gdt-button"><a href="#" id="gdt-close">Close</a></div>';gridToolsHtml+="</div>";$("head").append("<link rel='stylesheet' type='text/css' href='http://alefeuvre.github.com/foundation-grid-displayer/stylesheets/gd-bookmarklet.min.css'>");$("body").prepend(gridHtml).prepend(gridToolsHtml);$("#grid-displayer-tools").delay(1200).fadeTo("slow",0.1);if(typeof dataGridFramework!=="undefined"){buildGridDisplayer(gdFramework)}$("#grid-displayer-tools #gdt-framework").change(function(){if($(this).val()=="tired"){window.open("http://snipt.net/jiraisurfer/custom-parameters-for-foundation-grid-displayer/")}else{gdFramework=$(this).val();if(gdFramework=="f3"||gdFramework=="f2"){$("#grid-displayer-tools #gdt-nbcols").val(12)}buildGridDisplayer(gdFramework)}});$("#grid-displayer-tools #gdt-nbcols").change(function(){buildGridDisplayer(gdFramework)});$("#grid-displayer-tools #gdt-color").change(function(){setGridColor($(this).val(),gdFramework=="f3")});$("#grid-displayer-tools #gdt-opacity").change(function(){setGridOpacity($(this).val(),gdFramework=="f3")});$("#grid-displayer-tools #gdt-zindex").change(function(){setGridZindex($(this).val())});$("#grid-displayer-tools #gdt-close").click(function(){removeGridDisplayer()})}};